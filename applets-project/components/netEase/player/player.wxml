<!-- 播放器-核心 -->
<view class="playerItem bg-white">
    <swiper class="swiper-playslide" duration="300" bindchange="Playerslide" style="height:130rpx"
        current="{{playIndex}}">
        <swiper-item wx:for="{{randomSwitch?randomList:song}}" wx:key="index">
            <view>
                <view class="playerContent flex justify-between align-center" catchtap="showPopup">
                    <view class="flex align-center basis-lg">
                        <view class="basis-xs">
                            <image class="round" src="{{item.al.picUrl}}" mode="aspectFill">
                            </image>
                        </view>
                        <view style="width:350rpx;">
                            <view class="padding-left-lg flex align-center">
                                <view class="text-bold text-center text-cut" style="max-width: 100%;">{{item.name}}</view>
                                <view class="text-xs text-cut margin-left-xs" style="max-width:65%;">
                                    - <text wx:for="{{item.ar}}" wx:key="index">{{index>0?'/':''}}{{item.name}}</text>
                                </view>
                            </view>
                        </view>
                    </view>
                    <view class="flex justify-around playerTag basis-sm">
                        <view class="text-df playTag text-center round " catchtap="playSwitchFun">
                            <text class="cuIcon-{{playerState?'stop':'playfill'}}"></text>
                        </view>
                        <view class="sortTag " catchtap="onplayerList">
                            <text class="cuIcon-sort"></text>
                        </view>
                    </view>
                </view>
            </view>
        </swiper-item>
    </swiper>
</view>

<!-- 播放器 弹出层 -->
<van-popup show="{{ popupDisplay }}" bind:close="popupClose" position="bottom"
    custom-style="height: 97%;background:#f3f3f3" round='true' catchtouchmove='prohibit'>
    <view class="song-bg"
        style="background-image: url({{randomSwitch?randomList[playIndex].cover:song[playIndex].cover}});">
    </view>
    <view class="popupItem">
        <!-- 顶部 标题|歌手|分享 -->
        <view>
            <view class="text-white padding flex justify-between text-lg">
                <view class="padding-xs" bindtap="popupClose">
                    <text class="cuIcon-unfold"></text>
                </view>
                <view class="text-center">
                    <view>{{randomSwitch?randomList[playIndex].name:song[playIndex].name}}</view>
                    <view class="text-xs">{{randomSwitch?randomList[playIndex].singer:song[playIndex].singer}}</view>
                </view>
                <view class="padding-xs">
                    <text class="cuIcon-forward"></text>
                </view>
            </view>
        </view>
        <view class="player-popContent">
            <!-- 唱片 + 歌词 展示 模块-->
            <record randomSwitch="{{randomSwitch}}" randomList="{{randomList}}" playIndex="{{playIndex}}"
                song="{{song}}" playerState="{{playerState}}" playTime="{{slideInfo.progressSecond}}"></record>
            <!-- 按钮组+进度条 -->
            <popupBtn playerState="{{playerState}}" slideInfo="{{slideInfo}}" bind:changeSlider="changeSlider"
                bind:dragSlider="dragSlider" bind:lastSong="lastSong" bind:nextSong="nextSong"
                bind:playSwitchFun="playSwitchFun">
            </popupBtn>
        </view>
    </view>
</van-popup>


<!-- 播放列表弹出层 -->
<playlist song="{{song}}" playMode="{{playMode}}" playListIndex="{{playListIndex}}" playerList="{{playerList}}"
    playIndex="{{playIndex}}" playModeIndex="{{playModeIndex}}" bind:popupClose="popupClose"
    bind:listSongSwitch="listSongSwitch" bind:deleteListSong="deleteListSong" bind:deletePlaylist="deletePlaylist"
    bind:modeSwitch="modeSwitch">
</playlist>